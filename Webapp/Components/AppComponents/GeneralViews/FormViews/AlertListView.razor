@using Webapp.Data

<style>
    .rz-alert-title{
        font-size: var(--rz-body-font-size) !important;
        font-weight: bold !important;
    }
</style>

@if (this.UserActionAlerts != null) {
    @*<RadzenDataList WrapItems="true" 
                    Data="@this.UserActionAlerts"
                    TItem="UserActionAlert"
                    Style="width: fit-content;"
                    PageSize="5">
        <Template Context="alert">
            <RadzenAlert AlertStyle="@alert.Style"
                         Text="@alert.Message"
                         Title="@alert.Item"
                         Size="AlertSize.Medium"
                         AllowClose="false"/>
        </Template>
    </RadzenDataList>*@
    <RadzenStack Orientation="Orientation.Vertical" Gap="1" Style="margin: 0.5rem" Visible="true">
        <RadzenText TextStyle="TextStyle.H6"
                    Text="User Action Alerts"
                    TextAlign="TextAlign.Center"
                    Style="font-weight: bold;"/>
        <RadzenCard class="rz-p-1" Style="max-height: 300px; overflow: scroll">
            <RadzenStack Orientation="Orientation.Vertical"
                         Gap="1"
                         JustifyContent="JustifyContent.Center"
                         AlignItems="AlignItems.Center"
                         Wrap="FlexWrap.NoWrap">
                @foreach (var alert in this.UserActionAlerts) {
                    <RadzenAlert AlertStyle="@alert.Style"
                                 Text="@alert.Message"
                                 Title="@alert.Item"
                                 Shade="Shade.Default"
                                 Size="AlertSize.ExtraSmall"
                                 AllowClose="false" />
                }
            </RadzenStack>
        </RadzenCard>

    </RadzenStack>
}

@code {
    [Parameter] public List<UserActionAlert>? UserActionAlerts { get; set; } = new();
    
    private string GetStyle() {
        if (this.UserActionAlerts != null) {
            return this.UserActionAlerts.Count > 1 ? "width: 30%; min-height:60px;" : "width: 50%; min-height:60px;";
        } else {
            return "";
        }
    }
    
}