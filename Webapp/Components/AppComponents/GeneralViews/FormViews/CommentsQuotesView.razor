@using System.Timers
@using SetiFileStore.FileClient
@using Webapp.Data

<RadzenCard >
        <RadzenStack>
            <RadzenCard class="area-header">
                @if(this.Mode!=EditMode.VIEW){
                    <RadzenText TextStyle="TextStyle.H6" TextAlign="TextAlign.Center">
                        <RadzenIcon Icon="request_quote"/><b>Comments and Quotes</b>
                    </RadzenText>
                    <RadzenText Text="Enter any additional comments and upload quotes"
                                TextAlign="TextAlign.Center"
                                TextStyle="TextStyle.Subtitle1"/>
                } else {
                    <RadzenText TextStyle="TextStyle.H6" TextAlign="TextAlign.Center">
                        <RadzenIcon Icon="request_quote"/><b>Comments and Quotes</b>
                    </RadzenText>
                }
            </RadzenCard>
            @*<RadzenStack Orientation="Orientation.Vertical">*@
            <RadzenRow>
                <RadzenColumn Size="4">
                    <RadzenCard class="info-area rz-p-2 rz-m-2">
                        <RadzenCard class="area-header">
                            <RadzenText TextAlign="TextAlign.Center" TextStyle="TextStyle.H6">Additional Comments</RadzenText>
                        </RadzenCard>
                        <RadzenTextArea Placeholder="Additional message appended to the request"
                                        Value="@this.AdditionalComments"
                                        ValueChanged="@this.AdditionalCommentsChanged"
                                        Style="width: 100%; height:100px;"/>
                    </RadzenCard>
                </RadzenColumn>
                <RadzenColumn Size="8">
                    <QuotesControlV2 Quotes="@this.Quotes" Mode="@this.Mode"
                                     CurrentQuoteIdsChanged="@this.CurrentQuoteIdsChanged"
                                     QuotesChanged="@this.QuotesChanged"
                                     CurrentQuoteIds="@CurrentQuoteIds"/>
                </RadzenColumn>
            </RadzenRow>
            
                @*<RadzenTabs>
                    <Tabs>
                        <RadzenTabsItem Text="Additional Comments">

                        </RadzenTabsItem>
                        <RadzenTabsItem Text="Upload Quotes">

                        </RadzenTabsItem>
                    </Tabs>
                </RadzenTabs>*@
            @*</RadzenStack>*@
        </RadzenStack>
</RadzenCard>



@code {
    [Inject] public NotificationService _notifyService { get; set; }
    [Parameter] public List<FileData> Quotes { get; set; } = [];
    [Parameter] public List<string> CurrentQuoteIds { get; set; }
    [Parameter] public EventCallback<List<string>> CurrentQuoteIdsChanged { get; set; }
    [Parameter] public EditMode Mode { get; set; }
    [Parameter] public string? AdditionalComments { get; set; }
    [Parameter] public EventCallback<string?> AdditionalCommentsChanged { get; set; }
    [Parameter] public EventCallback<List<FileData>> QuotesChanged { get; set; }
    

}