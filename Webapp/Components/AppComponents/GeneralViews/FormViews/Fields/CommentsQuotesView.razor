@using System.Timers
@using SetiFileStore.FileClient
@using Webapp.Data

<RadzenStack Orientation="Orientation.Vertical">
    <RadzenTabs>
        <Tabs>
            <RadzenTabsItem Text="Additional Comments">
                <RadzenTextArea Placeholder="Enter any additional message you would like appended to the email"
                                Value="@this.AdditionalComments"
                                ValueChanged="@this.AdditionalCommentsChanged"
                                Style="width: 100%; height:100px;"/>
            </RadzenTabsItem>
            <RadzenTabsItem Text="Quotes">
                <QuotesControl Quotes="@this.Quotes" Mode="@this.Mode"
                               CurrentQuoteIdsChanged="@this.CurrentQuoteIdsChanged"
                               QuotesChanged="@this.QuotesChanged"
                               CurrentQuoteIds="@CurrentQuoteIds"/>
            </RadzenTabsItem>
        </Tabs>
    </RadzenTabs>
</RadzenStack>

@code {
    [Inject] public NotificationService _notifyService { get; set; }
    [Parameter] public List<FileData> Quotes { get; set; } = [];
    [Parameter] public List<string> CurrentQuoteIds { get; set; }
    [Parameter] public EventCallback<List<string>> CurrentQuoteIdsChanged { get; set; }
    [Parameter] public EditMode Mode { get; set; }
    [Parameter] public string? AdditionalComments { get; set; }
    [Parameter] public EventCallback<string?> AdditionalCommentsChanged { get; set; }
    [Parameter] public EventCallback<List<FileData>> QuotesChanged { get; set; }
    

}