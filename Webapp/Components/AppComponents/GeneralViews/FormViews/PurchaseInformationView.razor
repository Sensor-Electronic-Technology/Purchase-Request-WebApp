@using Domain.Authentication
@using Domain.PurchaseRequests.Model
@using Domain.PurchaseRequests.TypeConstants
@using Infrastructure.Services
@using Webapp.Data

<RadzenCard class="step-card" Style="padding: 1rem !important;">
    <RadzenStack>
        <RadzenCard class="area-header">
            <RadzenText TextStyle="TextStyle.H6" TextAlign="TextAlign.Center">
                <RadzenIcon Icon="add_business"/><b>Purchase Information</b>
            </RadzenText>
            <RadzenText Text="Select Department, Shipping, and Vendor"
                        TextAlign="TextAlign.Center"
                        TextStyle="TextStyle.Subtitle1"/>
        </RadzenCard>
        <RadzenRow>
            <RadzenColumn Size="12" SizeMD="5">
                <RadzenFieldset Text="Department and Shipping">
                    <RadzenStack Orientation="Orientation.Vertical">
                        <DepartmentSelector Department="@this.Department"
                                            DepartmentChanged="@DepartmentChanged"
                                            Mode="@this.Mode"/>
                        <ShippingSelector ShippingType="@this.ShippingType"
                                          ShippingTypeChanged="@this.ShippingTypeChanged"/>
                    </RadzenStack>
                </RadzenFieldset>
            </RadzenColumn>
            <RadzenColumn Size="12" SizeMD="7">
                <RadzenFieldset Style="text-align: center;">
                    <HeaderTemplate>
                        <RadzenText TextStyle="TextStyle.H6"
                                    TextAlign="TextAlign.Center">Vendor</RadzenText>
                    </HeaderTemplate>
                    <ChildContent>
                        <VendorSelector Vendor="@this.Vendor" VendorChanged="@this.VendorChanged" Mode="EditMode.EDIT"/>
                    </ChildContent>
                </RadzenFieldset>
            </RadzenColumn>
        </RadzenRow>
    </RadzenStack>
</RadzenCard>




@code {

    [Parameter] public string? ShippingType { get; set; }
    [Parameter] public Vendor? Vendor { get; set; }
    [Parameter] public Department? Department { get; set; }
    
    [Parameter] public EventCallback<Vendor?> VendorChanged { get; set; }
    [Parameter] public EventCallback<Department?> DepartmentChanged { get; set; }
    [Parameter] public EventCallback<string?> ShippingTypeChanged { get; set; }
    
    [Parameter] public EditMode Mode { get; set; } = EditMode.VIEW;

}