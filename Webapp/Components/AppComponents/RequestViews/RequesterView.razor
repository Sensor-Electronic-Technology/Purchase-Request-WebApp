@page "/RequesterView"
@using Domain.Authentication
@using Domain.PurchaseRequests
@attribute [Authorize(Roles = $"{nameof(PurchaseRequestRole.Requester)}, {nameof(PurchaseRequestRole.Admin)}, {nameof(PurchaseRequestRole.Approver)}")]
<RadzenStack Orientation="Orientation.Vertical">
        <RadzenAccordion Multiple="false" Style="font-size: 36px !important;">
            <Items>
                <RadzenAccordionItem Text="Create Purchase Request"
                                     Icon="account_balance_wallet" Style="font-size: 36px !important;">
                    <PurchaseRequestForm/>
                </RadzenAccordionItem>
            </Items>
        </RadzenAccordion>
    <RadzenCard Style="width: 100%">
        <RadzenStack>
            <RadzenCard>
                <RadzenText Text="Purchase Requests"/>
            </RadzenCard>
            <RadzenCard>
                <RadzenDataGrid Data="@this._purchaseRequests">
                    <RadzenDataGridColumn Property="@nameof(PurchaseRequest.ApprovedBy)"/>
                    <RadzenDataGridColumn Property="@nameof(PurchaseRequest.Title)"/>
                    <RadzenDataGridColumn Property="@nameof(PurchaseRequest.Created)"/>
                    <RadzenDataGridColumn Property="@nameof(PurchaseRequest.Approved)"/>
                    <RadzenDataGridColumn Property="@nameof(PurchaseRequest.ApprovedDate)"/>
                    <RadzenDataGridColumn Property="@nameof(PurchaseRequest.Ordered)"/>
                    <RadzenDataGridColumn Property="@nameof(PurchaseRequest.OrderedDate)"/>
                    <RadzenDataGridColumn Property="@nameof(PurchaseRequest.Received)"/>
                    <RadzenDataGridColumn Property="@nameof(PurchaseRequest.ReceivedDate)"/>
                </RadzenDataGrid>
            </RadzenCard>
        </RadzenStack>
    </RadzenCard>
</RadzenStack>


@code {
    private List<PurchaseRequest> _purchaseRequests = new();
}